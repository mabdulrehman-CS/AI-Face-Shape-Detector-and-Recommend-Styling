<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIFace - Grooming AI</title>
    <link rel="stylesheet" href="/static/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <div class="logo">AIFace</div>
            <nav>
                <a href="#">Home</a>
                <a href="#">About</a>
                <a href="#">Contact</a>
            </nav>
        </header>

        <main>
            <section class="hero">
                <h1>Unlock Your Perfect Look</h1>
                <p>AI-Powered Face Shape Analysis & Grooming Recommendations</p>
                <h2>Analyze Your Face Shape</h2>
            </section>

            <section class="upload-section">
                <!-- 1. Configuration (Gender + Model) -->
                <div class="controls-row">
                    <div class="control-group">
                        <label class="control-label">Gender</label>
                        <div class="gender-toggle">
                            <input type="radio" id="male" name="gender" value="Male" checked>
                            <label for="male" class="toggle-btn">Male</label>

                            <input type="radio" id="female" name="gender" value="Female">
                            <label for="female" class="toggle-btn">Female</label>
                        </div>
                    </div>

                    <div class="control-group">
                        <label for="model-select" class="control-label">AI Model</label>
                        <select id="model-select" class="model-dropdown">
                            <option value="loading">Loading models...</option>
                        </select>
                    </div>
                </div>

                <!-- 2. Input Methods (Dual Columns) -->
                <div class="input-methods">
                    <!-- Option A: File Upload -->
                    <div class="input-card" id="drop-zone">
                        <div class="icon">üìÇ</div>
                        <h3>Upload Photo</h3>
                        <p>Drag & Drop or Click</p>
                        <input type="file" id="file-input" hidden accept="image/*">
                    </div>

                    <div class="input-separator">
                        <span>OR</span>
                    </div>

                    <!-- Option B: Webcam -->
                    <div class="input-card camera-card" id="start-camera-btn">
                        <div class="icon">üì∑</div>
                        <h3>Use Camera</h3>
                        <p>Take a Selfie</p>
                    </div>
                </div>
            </section>

            <!-- Camera Modal/Overse -->
            <div id="camera-container" class="camera-container hidden">
                <video id="camera-feed" autoplay playsinline></video>
                <canvas id="camera-canvas" hidden></canvas>

                <!-- Real-Time Overlay -->
                <div class="camera-overlay">
                    <div class="scan-line"></div>
                    <div id="rt-result" class="rt-result hidden">
                        <span id="rt-shape">Scanning...</span>
                        <span id="rt-conf"></span>
                    </div>
                </div>

                <div class="camera-actions">
                    <button id="capture-btn" class="primary-btn">Capture & Report</button>
                    <button id="close-camera-btn" class="secondary-btn">Close</button>
                </div>
            </div>

            <section class="preview-section" id="preview-section" style="display: none;">
                <div class="image-wrapper">
                    <img id="preview-img" src="" alt="Preview">
                    <div class="scan-overlay"></div>
                </div>
                <div class="status-text" id="status-text">Scanning facial features...</div>
            </section>

            <section class="results-section" id="results-section" style="display: none;">
                <div class="shape-card">
                    <h2>Your Face Shape</h2>
                    <div class="shape-result" id="shape-name">Oval</div>
                    <div class="confidence">Confidence: <span id="conf-score">98%</span></div>
                    <p id="shape-desc">Balanced proportions, slightly narrower at the jaw than temples.</p>
                </div>

                <div class="recommendations">
                    <div class="rec-card">
                        <h3>‚úÇÔ∏è Hairstyles</h3>
                        <ul id="hair-list"></ul>
                    </div>
                    <div class="rec-card">
                        <h3>üßî Beards</h3>
                        <ul id="beard-list"></ul>
                    </div>
                    <div class="rec-card">
                        <h3>üëì Glasses</h3>
                        <ul id="glasses-list"></ul>
                    </div>
                </div>

                <div class="alert-box" id="avoid-box">
                    <strong>Avoid:</strong> <span id="avoid-text"></span>
                </div>

                <div class="alert-box" id="avoid-box">
                    <strong>Avoid:</strong> <span id="avoid-text"></span>
                </div>

                <button class="btn-reset" onclick="resetApp()">Analyze Another</button>
            </section>

            <!-- Metrics Section -->
            <section class="metrics-section" id="metrics-section" style="display: none; margin-top: 50px;">
                <h2>‚ö†Ô∏è Model Performance</h2>
                <p class="metrics-subtitle">Stats for <span id="metrics-model-name">...</span></p>

                <div class="metrics-grid">
                    <div class="metrics-card">
                        <h3>Accuracy</h3>
                        <div class="big-number" id="metric-acc">--%</div>
                        <div class="sub-metric">F1 Score: <span id="metric-f1">--</span></div>
                    </div>

                    <div class="metrics-card table-card">
                        <h3>Detailed Report</h3>
                        <table id="metrics-table">
                            <thead>
                                <tr>
                                    <th>Class</th>
                                    <th>Precision</th>
                                    <th>Recall</th>
                                    <th>F1</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div class="metrics-card matrix-card">
                    <h3>Confusion Matrix</h3>
                    <div id="confusion-matrix"></div>
                    <div class="matrix-legend"> Rows: Actual | Cols: Predicted </div>
                </div>
            </section>
        </main>
    </div>
    <script src="/static/script.js"></script>
</body>

</html>