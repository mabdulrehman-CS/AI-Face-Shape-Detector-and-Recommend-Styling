:root {
    --bg-color: #0d0d0d;
    --card-bg: #1a1a1a;
    --primary: #bb86fc;
    --secondary: #03dac6;
    --text-main: #ffffff;
    --text-muted: #b3b3b3;
    --gradient: linear-gradient(135deg, #bb86fc 0%, #3700b3 100%);
}

body {
    background-color: var(--bg-color);
    color: var(--text-main);
    font-family: 'Outfit', sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    min-height: 100vh;
}

.container {
    width: 100%;
    max-width: 1200px;
    padding: 20px;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 0;
    margin-bottom: 40px;
}

.logo {
    font-size: 24px;
    font-weight: 700;
    color: var(--primary);
    letter-spacing: 1px;
}

nav a {
    color: var(--text-muted);
    text-decoration: none;
    margin-left: 20px;
    font-weight: 500;
    transition: color 0.3s;
}

nav a:hover {
    color: var(--primary);
}

.hero {
    text-align: center;
    margin-bottom: 60px;
    animation: fadeIn 1s ease-out;
}

.hero h1 {
    font-size: 48px;
    margin-bottom: 10px;
    background: var(--gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.hero p {
    color: var(--text-muted);
    font-size: 18px;
}

.upload-section {
    display: flex;
    justify-content: center;
    margin-bottom: 40px;
}

.upload-box {
    background: var(--card-bg);
    border: 2px dashed var(--text-muted);
    border-radius: 20px;
    padding: 60px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
    width: 600px;
}

.upload-box:hover {
    border-color: var(--primary);
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(187, 134, 252, 0.1);
}

.icon-upload {
    font-size: 48px;
    margin-bottom: 20px;
}

/* Model Selector */
.model-selector {
    text-align: center;
    margin-bottom: 30px;
    animation: fadeIn 1.2s ease-out;
}

.model-selector label {
    display: block;
    margin-bottom: 10px;
    color: var(--text-muted);
    font-size: 14px;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.model-selector select {
    background: var(--card-bg);
    color: var(--text-main);
    border: 1px solid var(--text-muted);
    padding: 12px 20px;
    border-radius: 8px;
    font-size: 16px;
    font-family: inherit;
    cursor: pointer;
    width: 300px;
    outline: none;
    transition: all 0.3s;
}

.model-selector select:hover {
    border-color: var(--primary);
}

.model-selector select:focus {
    border-color: var(--primary);
    box-shadow: 0 0 15px rgba(187, 134, 252, 0.2);
}

/* Preview & Scan */
.preview-section {
    text-align: center;
    margin-bottom: 40px;
}

.image-wrapper {
    position: relative;
    display: inline-block;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    max-width: 300px;
}

#preview-img {
    width: 100%;
    display: block;
}

.scan-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, transparent 45%, var(--secondary) 50%, transparent 55%);
    background-size: 100% 200%;
    animation: scan 2s linear infinite;
    opacity: 0.5;
}

@keyframes scan {
    0% {
        background-position: 0% 0%;
    }

    100% {
        background-position: 0% 100%;
    }
}

/* Results */
.results-section {
    animation: slideUp 0.5s ease-out;
}

.shape-card {
    text-align: center;
    margin-bottom: 40px;
}

.shape-result {
    font-size: 36px;
    font-weight: 700;
    color: var(--secondary);
    margin: 10px 0;
}

.recommendations {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
}

.rec-card {
    background: var(--card-bg);
    padding: 30px;
    border-radius: 15px;
    border-left: 4px solid var(--primary);
}

.rec-card h3 {
    margin-top: 0;
    color: var(--text-main);
}

.rec-card ul {
    padding-left: 20px;
    color: var(--text-muted);
}

.rec-card li {
    margin-bottom: 8px;
}

.alert-box {
    background: rgba(255, 69, 58, 0.1);
    color: #ff453a;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    border: 1px solid #ff453a;
    width: fit-content;
    margin: 0 auto 30px auto;
}

.btn-reset {
    background: var(--primary);
    color: #000;
    border: none;
    padding: 12px 30px;
    border-radius: 25px;
    font-weight: 700;
    cursor: pointer;
    font-size: 16px;
    transition: transform 0.2s;
    display: block;
    margin: 0 auto;
}

.btn-reset:hover {
    transform: scale(1.05);
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(50px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Metrics Section */
.metrics-section {
    animation: slideUp 0.8s ease-out;
    padding-top: 20px;
    border-top: 1px solid #333;
}

.metrics-section h2 {
    text-align: center;
    color: var(--secondary);
    margin-bottom: 5px;
}

.metrics-subtitle {
    text-align: center;
    color: var(--text-muted);
    font-size: 14px;
    margin-bottom: 30px;
}

.metrics-grid {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.metrics-card {
    background: var(--card-bg);
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    min-width: 200px;
}

.big-number {
    font-size: 48px;
    font-weight: 700;
    color: var(--primary);
    margin: 10px 0;
}

.sub-metric {
    color: var(--text-muted);
    font-size: 14px;
}

/* Table */
.table-card {
    flex-grow: 1;
    max-width: 500px;
}

#metrics-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
}

#metrics-table th,
#metrics-table td {
    padding: 10px;
    border-bottom: 1px solid #333;
    color: var(--text-muted);
    font-size: 14px;
}

#metrics-table th {
    color: var(--secondary);
    font-weight: 500;
    text-align: left;
}

/* Confusion Matrix */
.matrix-card {
    width: 100%;
    margin-bottom: 40px;
    overflow-x: auto;
}

#confusion-matrix {
    display: grid;
    justify-content: center;
    margin: 20px auto;
}

.matrix-header {
    font-weight: bold;
    color: var(--text-muted);
    padding: 5px;
    text-align: center;
    font-size: 12px;
}

.matrix-cell {
    padding: 10px;
    text-align: center;
    color: white;
    font-size: 14px;
    border-radius: 4px;
}

.matrix-legend {
    font-size: 12px;
    color: var(--text-muted);
    margin-top: 10px;
}

/* ================= Gender & Controls ================= */
.control-group {
    margin-bottom: 20px;
    text-align: center;
}

.control-label {
    display: block;
    margin-bottom: 8px;
    color: var(--text-muted);
    font-size: 14px;
}

.gender-toggle {
    display: flex;
    justify-content: center;
    gap: 10px;
}

.gender-toggle input[type="radio"] {
    display: none;
}

.toggle-btn {
    padding: 12px 25px;
    background: #1e1e1e;
    border-radius: 8px;
    /* Boxy */
    cursor: pointer;
    border: 1px solid #333;
    transition: all 0.2s ease;
    color: #aaa;
    font-size: 14px;
    font-weight: 500;
    min-width: 80px;
    text-align: center;
}

.toggle-btn:hover {
    background: #2a2a2a;
    border-color: #555;
    color: #fff;
}

.gender-toggle input[type="radio"]:checked+.toggle-btn {
    background: var(--primary);
    color: #000;
    border-color: var(--primary);
    font-weight: bold;
    box-shadow: 0 0 10px rgba(187, 134, 252, 0.2);
    transform: translateY(-1px);
}

.model-dropdown {
    padding: 12px 20px;
    background: #1e1e1e;
    border: 1px solid #333;
    border-radius: 8px;
    color: #fff;
    cursor: pointer;
    font-size: 14px;
    outline: none;
    min-width: 250px;
    /* Match the sketch 'long box' */
    transition: all 0.2s ease;
}

.model-dropdown:hover,
.model-dropdown:focus {
    border-color: var(--primary);
    background: #2a2a2a;
}



/* ================= Layout Fixes ================= */
.upload-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

.controls-row {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-bottom: 50px;
    /* Strong vertical separation as requested */
    flex-wrap: wrap;
    /* responsive */
    align-items: flex-end;
    /* align label+input bottoms */
}

.control-group {
    margin-bottom: 0px;
    /* Reset margin since we use gap */
}

/* ================= Input Methods (Dual Card) ================= */
.input-methods {
    display: flex;
    justify-content: center;
    gap: 30px;
    align-items: stretch;
    flex-wrap: wrap;
    margin-bottom: 30px;
}

.input-card {
    flex: 1;
    min-width: 200px;
    /* Don't squash too small */
    max-width: 300px;
    border: 2px dashed #444;
    padding: 30px 20px;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    background: rgba(255, 255, 255, 0.02);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.input-card:hover {
    border-color: var(--primary);
    background: rgba(187, 134, 252, 0.05);
    transform: translateY(-5px);
}

.input-card .icon {
    font-size: 32px;
    margin-bottom: 10px;
    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.2));
}

.input-card h3 {
    margin: 5px 0;
    font-size: 16px;
    color: var(--text-color);
}

.input-card p {
    font-size: 12px;
    color: var(--text-muted);
}

/* Specific Style for Camera Card to look clickable but solid if desired, 
   or keep dashed to match consistency? Dashed is fine for "Input Action". 
   Maybe solid border for Camera to differentiate? */
.camera-card {
    border-style: solid;
    border-color: #333;
}

.camera-card:hover {
    border-color: var(--primary);
    box-shadow: 0 0 15px rgba(187, 134, 252, 0.2);
}

.input-separator {
    display: flex;
    align-items: center;
    font-weight: bold;
    color: #444;
    font-size: 14px;
}

/* Mobile responsive */
@media (max-width: 600px) {
    .input-methods {
        flex-direction: column;
        align-items: center;
    }

    .input-separator {
        transform: rotate(90deg);
        /* Or just hidden */
        display: none;
    }
}


/* ================= Camera Overlay ================= */
.camera-container {
    position: relative;
    /* Anchor for overlay */
}

.camera-overlay {
    position: absolute;
    top: 55px;
    /* Adjust for video margin/padding if any, or 0 */
    left: 0;
    width: 100%;
    height: 100%;
    /* Matches video height approx */
    pointer-events: none;
    /* Let clicks pass to video/buttons */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    padding-bottom: 80px;
    /* Above buttons */
}

.scan-line {
    position: absolute;
    top: 0;
    left: 10%;
    width: 80%;
    height: 2px;
    background: var(--primary);
    box-shadow: 0 0 10px var(--primary);
    animation: scan 3s infinite linear;
    opacity: 0.7;
}

@keyframes scan {
    0% {
        top: 10%;
    }

    50% {
        top: 90%;
    }

    100% {
        top: 10%;
    }
}

.rt-result {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid var(--primary);
    padding: 10px 20px;
    border-radius: 20px;
    color: #fff;
    font-size: 18px;
    font-weight: bold;
    backdrop-filter: blur(4px);
    transition: opacity 0.3s;
}

.rt-result.hidden {
    opacity: 0;
}

/* ================= Camera Interface (Existing) ================= */
.camera-control {
    text-align: center;
    margin-top: 20px;
}

/* ... rest of camera CSS */

.secondary-btn {
    background: transparent;
    border: 1px solid #555;
    color: #ccc;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
}

.secondary-btn:hover {
    border-color: var(--primary);
    color: white;
}

.camera-container {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 600px;
    background: #121212;
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
    z-index: 1000;
    border: 1px solid #333;
    text-align: center;
    /* Hidden logic handled by JS class toggle */
}

.camera-container.hidden {
    display: none;
}

#camera-feed {
    width: 100%;
    border-radius: 12px;
    background: #000;
    transform: scaleX(-1);
    /* Mirror effect */
}

.camera-actions {
    margin-top: 15px;
    display: flex;
    justify-content: center;
    gap: 15px;
}